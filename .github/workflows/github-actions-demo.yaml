name: compile
run-name: ${{ github.actor }} is testing out GitHub Actions ðŸš€
on: [push]
jobs:
  compilemac:
    runs-on: macos-latest
    permissions:
      contents: write
      pull-requests: write
      repository-projects: write

    steps:
      - uses: actions/checkout@v4
      - uses: actions-rust-lang/setup-rust-toolchain@v1
      - run: | 
          cargo xtask bundle havregryn --release
          zip -r havregryn.vst3.zip /Users/runner/work/Havregryn/Havregryn/target/bundled/Havregryn.vst3
      - uses: ncipollo/release-action@v1
        with:
          artifacts: 'havregryn.vst3.zip'